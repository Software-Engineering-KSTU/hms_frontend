<img width="1280" height="720" alt="image" src="https://github.com/user-attachments/assets/1f3c4ec7-e8a1-4547-91de-a28480aa564b" />

# Руководство по Настройке Проекта Django + PostgreSQL

## Введение
**Django** — это высокоуровневый веб-фреймворк на языке Python, который поощряет быструю разработку и чистый, прагматичный дизайн. Он включает готовые инструменты для работы с моделями (ORM), шаблонами, URL-маршрутами и административной панелью.

**PostgreSQ** — это мощная, открытая, объектно-реляционная система управления базами данных. Django использует её как основное хранилище данных через драйвер `psycopg2-binary`.

Этот документ подробно описывает процесс:

- Создания проекта на Django.

- Подключения реляционной базы данных PostgreSQL.

- Использования файла .env для хранения конфиденциальных данных.

- Подготовки проекта к совместной работе нескольких разработчиков.

## 1. Требования:

- Для работы проекта необходимо:

- Установить и настроить PostgreSQL.

- Создать базу данных, например mydatabase.

- Запомните параметры подключения: логин, пароль, хост и порт (обычно localhost:5432).

## 2. Файл .env (Конфиденциальные Данные)
Файл .env используется для хранения конфиденциальных данных, которые не должны попадать в систему контроля версий (Git).

Пример содержимого файла .env:

```
DEBUG=True
SECRET_KEY=замени_на_уникальный_ключ
### Параметры подключения к БД
DB_NAME=mydatabase
DB_USER=postgres
DB_PASSWORD=пароль
DB_HOST=localhost
DB_PORT=5432
``` 

Django подключается к этому файлу через библиотеку python-dotenv для динамической загрузки переменных окружения.

## 3. Зависимости Проекта (requirements.txt)

Все необходимые для работы проекта библиотеки фиксируются в файле **requirements.txt**. Это гарантирует, что проект можно будет воспроизвести запустить на любой другом компьютеру.

| Библиотека | Назначение |
| :--- | :--- |
| Django | `Основной веб-фреймворк` |
| Lpsycopg2-binary | `Драйвер для работы с PostgreSQL` |
| python-dotenv | `Загрузка переменных из файла .env` |

## 4. Виртуальное Окружение (venv)

Виртуальное окружение (venv) позволяет изолировать зависимости проекта от системных библиотек Python, избегая конфликтов. Оно создаётся один раз для проекта и активируется перед началом работы.

Команды для создания и активации:

| Операционная система | Команда для создания | Команда для активации |
| :--- | :--- | :--- |
| **Windows** | `python -m venv venv` | `venv\Scripts\activate` |
| **Linux / macOS** | `python3 -m venv venv` | `source venv/bin/activate` |

## 5. Клонирование Проекта

Для получения исходного кода проекта с Git выполните следующие команды в консоле проекта:

```
git clone https://github.com/username/projectname.git
cd projectname
```
⚠️ Замените `https://github.com/username/projectname.git` на фактический адрес репозитория.

## 6. Настройка и Запуск Проекта

После клонирования проекта необходимо выполнить несколько шагов для его успешного запуска.

### 6.1. Установка Зависимостей

Установите все библиотеки, перечисленные в requirements.txt:

| Операционная система | Команда |
| :--- | :--- |
| **Windows** | `pip install -r requirements.txt` |
| **Linux / macOS** | `pip3 install -r requirements.txt` |

### 6.2. Создание Файла `.env`

В корневой директории проекта создайте файл с именем `.env.` Если в репозитории есть пример `(.env.example)`, скопируйте его и измените значения:

```
cp .env.example .env
```

⚠️ Обязательно заполните его своими уникальными параметрами подключения к PostgreSQL:

```
DEBUG=True
SECRET_KEY=новый_секретный_ключ # Уникальный ключ
DB_NAME=имя_вашей_базы
DB_USER=пользователь_postgres
DB_PASSWORD=пароль_postgres
DB_HOST=localhost
DB_PORT=5432
```
### 6.3. Настройка Подключения к Базе Данных (в core/settings.py)

Убедитесь, что ваш файл `core/settings.py` содержит код для загрузки переменных из `.env` и настройки `DATABASES`:

Python code:
```
import os
from dotenv import load_dotenv
```

Загружаем переменные из `.env` load_dotenv()

Python code:
```
SECRET_KEY = os.getenv("SECRET_KEY")
DEBUG = os.getenv("DEBUG") == "True"

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql',
        'NAME': os.getenv("DB_NAME"),
        'USER': os.getenv("DB_USER"),
        'PASSWORD': os.getenv("DB_PASSWORD"),
        'HOST': os.getenv("DB_HOST"),
        'PORT': os.getenv("DB_PORT"),
    }
}
```
### 6.4. Применение Миграций

Примените миграции, чтобы создать все необходимые таблицы в вашей базе данных:

| Операционная система | Команда |
| :--- | :--- |
| **Windows** | `python manage.py makemigrations`<br>`python manage.py migrate`|
| **Linux / macOS** | `python3 manage.py makemigrations`<br>`python3 manage.py migrate`|

### 6.5. Создание Суперпользователя

Создайте администратора для доступа к /admin панели:

| Операционная система | Команда |
| :--- | :--- |
| **Windows** | `python manage.py createsuperuser`|
| **Linux / macOS** | `python3 manage.py createsuperuser`|

### 6.6. Запуск Сервера Разработки

Запустите локальный сервер Django:

| Операционная система | Команда |
| :--- | :--- |
| **Windows** | `python manage.py runserver`|
| **Linux / macOS** | `python3 manage.py runserver`|

Проект будет доступен по адресу `http://127.0.0.1:8000/`

## 7. Обновление Зависимостей
Если вы добавили новые библиотеки в проект, их нужно зафиксировать в requirements.txt:

```
pip freeze > requirements.txt
```

## 8. .gitignore
Чтобы избежать попадания служебных и конфиденциальных файлов в репозиторий, используйте файл `.gitignore` со следующим содержимым:
```
venv/
__pycache__/
*.pyc
*.sqlite3
.env
```
